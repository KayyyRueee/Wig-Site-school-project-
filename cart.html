<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kay's Kolors offers custom and premade wigs including straight and curly styles. Shop quality wigs made for you.">

    <title>Checkout</title>
</head>
<body>
    <header class="sticky-banner">
        <a href="index.html" class="logo">Kay's Kolors</a>
        <div class="search">
            <input type="text" id="searchBox" placeholder="Search Products...">
            <div id="searchResults" class="seach-results"></div>
        </div>
        <a href="cart.html" class="cart">Cart</a>
    </header>
    <h1>Your Cart</h1>
    <h3>Order Inquiry</h3>
    <form id="orderForm">
        <label for="name">Name:</label><br>
        <input type="text" id="name" required><br><br>

        <label for="email">Email:</label><br>
        <input type="email" id="email" required><br><br>

        <label for="message">Message:</label><br>
        <textarea id="message" required></textarea>

        <button type="submit">Submit</button>
    </form>


    <div id="cartItems"></div>
    <h2 id="total"></h2>
    <a href="checkout.html" class="checkout-btn">Proceed to Checkout</a>


<footer>
    <p>Helpful Tips for Beginners</p>
    <ul>
        <li><a href="https://www.newtimeshair.com/blog/how-to-apply-a-lace-front-wig-in-15-steps/">How To Glue Your Wig Down</a></li>
        <li><a href="https://www.unice.com/blog/what-is-the-best-wig-glue">Choosing The Best Glue for YOU</a></li>
        <li><a href="https://salamawigs.co.ke/blogs/tips-tricks/how-to-maintain-your-wigs-for-long-lasting-beauty?srsltid=AfmBOorkWUOFwFTw61WOkzinzABNVAoigjsGTdz_RvPRO-kdI0X6psEJ">How To Keep You Wig Looking Fresh</a></li>
    </ul>
</footer>

<script>
let cart = JSON.parse(localStorage.getItem('cart')) || [];
let cartDiv = document.getElementById('cartItems');
let totalDiv = document.getElementById('total');
let totalPrice = 0;

if(cart.length === 0){
    cartDiv.innerHTML = "<p>Your cart is empty :(</p>";
} else {
    cart.forEach((item, index) => {
        let div = document.createElement('div');
        div.innerHTML = `${item.name} - ${item.price} <button onclick="removeItem(${index})">Remove</button>`;
        cartDiv.appendChild(div);
        totalPrice += item.price;
    });
    totalDiv.textContent = `Total: $${totalPrice.toFixed(2)}`;
}

function removeItem(index){
    cart.splice(index, 1);
    localStorage.setItem('cart', JSON.stringify(cart));
    location.reload();
}

document.getElementById("orderForm").addEventListener("submit", function(e){
    e.preventDefault();
    alert("Thank you! Your request has been submitted.");
});

const products = [
    "Straight Wigs",
    "Curly Wigs",
    "Premade Colored Wigs", 
    "Kustom Straight Wigs",
    "Kustom Curly Wigs"
];

const searchBox = document.getElementById("searchBox");
const results = document.getElementById("searchResults");

searchBox.addEventListener("input", function(){
    const input = this.value.toLowerCase();
    results.innerHTML = "";

    if(input) {
        const filtered = products.filter(p => p.toLowerCase().includes(input));
        filtered.forEach(item => {
            const div = document.createElement("div");
            div.textContent = item;
            div.addEventListener("click", () => {
                alert(`You clicked ${item}`);
                searchBox.value = "";
                results.style.display = "none";
            });
            results.appendChild(div);
        });
        results.style.display = filtered.length ? "block" : "none";
    } else {
        results.style.display = "none";
    }
});
</script>

</body>
</html>